<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lezione 5.2 - Variabili e Tipi di Dato</title>
    <link rel="stylesheet" href="/style.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Lezione 5.2 - Variabili e Tipi di Dato</h1>
            <p>Dichiarazione variabili e tipi primitivi in JavaScript</p>
        </div>

        <h2>1. Dichiarazione di Variabili</h2>
        
        <div class="teoria">
            <p>In JavaScript esistono tre modi per dichiarare variabili: <code>var</code>, <code>let</code> e <code>const</code>.</p>
            
            <p><strong>Regola moderna:</strong> Usa sempre <code>const</code> per default. Usa <code>let</code> solo se il valore deve cambiare. Non usare mai <code>var</code>.</p>
        </div>

        <h3>1.1 const (Costante)</h3>
        
        <div class="codice">
<pre>// const - Il valore non può essere riassegnato
const nome = 'Mario';
const età = 25;
const PI = 3.14159;

console.log(nome);  // Mario

// ERRORE: Non puoi riassegnare una const
// nome = 'Luigi';  // TypeError: Assignment to constant variable

// ATTENZIONE: const non rende l'oggetto immutabile
const persona = { nome: 'Mario', età: 25 };
persona.età = 26;  // OK: Modifichi la proprietà
console.log(persona.età);  // 26

// ERRORE: Non puoi riassegnare l'oggetto
// persona = { nome: 'Luigi' };  // TypeError</pre>
        </div>
        
        <div class="teoria">
            <p><strong>Quando usare const:</strong></p>
            <ul>
                <li>Valori che non cambiano mai</li>
                <li>Riferimenti a oggetti e array (anche se le proprietà cambiano)</li>
                <li>Funzioni e classi</li>
                <li>Default per tutte le dichiarazioni (usa const finché non serve let)</li>
            </ul>
        </div>

        <h3>1.2 let (Variabile)</h3>
        
        <div class="codice">
<pre>// let - Il valore può essere riassegnato
let contatore = 0;
contatore = 1;
contatore = 2;
console.log(contatore);  // 2

let messaggio = 'Ciao';
messaggio = 'Buongiorno';
console.log(messaggio);  // Buongiorno

// let può essere dichiarato senza valore iniziale
let risultato;
console.log(risultato);  // undefined
risultato = 42;
console.log(risultato);  // 42</pre>
        </div>
        
        <div class="teoria">
            <p><strong>Quando usare let:</strong></p>
            <ul>
                <li>Contatori in cicli (for, while)</li>
                <li>Variabili che cambiano valore nel tempo</li>
                <li>Valori che vengono riassegnati condizionalmente</li>
            </ul>
        </div>

        <h3>1.3 var (Deprecato)</h3>
        
        <div class="codice">
<pre>// var - Vecchia sintassi, NON USARE
var vecchioStile = 'Non usare var';

// Problemi con var:
// 1. Function scope invece di block scope
// 2. Può essere ridichiarato
// 3. Viene "hoisted" in modo confuso

// NON USARE VAR - Usa sempre const o let</pre>
        </div>

        <h2>2. Differenze tra let e const</h2>
        
        <table>
            <tr>
                <th>Caratteristica</th>
                <th>const</th>
                <th>let</th>
            </tr>
            <tr>
                <td><strong>Riassegnazione</strong></td>
                <td>No</td>
                <td>Sì</td>
            </tr>
            <tr>
                <td><strong>Dichiarazione senza valore</strong></td>
                <td>No (errore)</td>
                <td>Sì (undefined)</td>
            </tr>
            <tr>
                <td><strong>Block Scope</strong></td>
                <td>Sì</td>
                <td>Sì</td>
            </tr>
            <tr>
                <td><strong>Quando usare</strong></td>
                <td>Default (90% dei casi)</td>
                <td>Solo se serve riassegnare</td>
            </tr>
        </table>

        <h2>3. Tipi di Dato Primitivi</h2>
        
        <div class="teoria">
            <p>JavaScript ha 7 tipi di dato primitivi:</p>
        </div>

        <h3>3.1 String (Stringa)</h3>
        
        <div class="codice">
<pre>// String - Testo tra apici singoli, doppi o backticks
const nome = 'Mario';
const cognome = "Rossi";
const saluto = `Ciao ${nome}`;  // Template literal

// Proprietà e metodi comuni
console.log(nome.length);        // 5
console.log(nome.toUpperCase()); // MARIO
console.log(nome.toLowerCase()); // mario

// Concatenazione
const nomeCompleto = nome + ' ' + cognome;  // Mario Rossi
const nomeCompleto2 = `${nome} ${cognome}`; // Mario Rossi (preferito)</pre>
        </div>

        <h3>3.2 Number (Numero)</h3>
        
        <div class="codice">
<pre>// Number - Tutti i numeri in JavaScript (interi e decimali)
const età = 25;
const prezzo = 19.99;
const negativo = -10;
const grande = 1e6;  // 1000000 (notazione scientifica)

// Operazioni matematiche
const somma = 10 + 5;        // 15
const differenza = 10 - 5;   // 5
const prodotto = 10 * 5;     // 50
const divisione = 10 / 5;    // 2
const resto = 10 % 3;        // 1 (modulo)
const potenza = 2 ** 3;      // 8 (2³)

// Valori speciali
const infinito = Infinity;
const nonNumero = NaN;  // Not a Number
console.log(typeof NaN);  // "number" (stranamente!)</pre>
        </div>

        <h3>3.3 Boolean (Booleano)</h3>
        
        <div class="codice">
<pre>// Boolean - true o false
const isAttivo = true;
const isCompletato = false;
const haEmail = true;

// Risultato di confronti
const maggiorenne = età >= 18;  // true o false
const uguale = 5 === 5;         // true
const diverso = 5 !== 10;       // true

// Usati in condizioni
if (isAttivo) {
    console.log('Attivo!');
}</pre>
        </div>

        <h3>3.4 undefined</h3>
        
        <div class="codice">
<pre>// undefined - Variabile dichiarata ma non inizializzata
let variabileNonInizializzata;
console.log(variabileNonInizializzata);  // undefined

// Funzione senza return
function nessunReturn() {
    // Non ha return
}
const risultato = nessunReturn();
console.log(risultato);  // undefined

// Proprietà inesistente
const persona = { nome: 'Mario' };
console.log(persona.cognome);  // undefined</pre>
        </div>

        <h3>3.5 null</h3>
        
        <div class="codice">
<pre>// null - Assenza intenzionale di valore
let utente = null;  // Nessun utente al momento

// Differenza tra null e undefined
let nonInizializzato;      // undefined (non ancora valorizzato)
let esplicitamenteVuoto = null;  // null (intenzionalmente vuoto)

// null è spesso usato per "resettare" variabili
let elementoSelezionato = document.querySelector('.elemento');
elementoSelezionato = null;  // Nessun elemento selezionato</pre>
        </div>

        <h3>3.6 Symbol e BigInt</h3>
        
        <div class="codice">
<pre>// Symbol - Identificatore unico (avanzato, raramente usato)
const id = Symbol('id');

// BigInt - Numeri interi molto grandi (ES2020)
const numeroGrande = 9007199254740991n;

// Non approfondiremo questi tipi in questo corso</pre>
        </div>

        <h2>4. Operatore typeof</h2>
        
        <div class="codice">
<pre>// typeof - Restituisce il tipo di una variabile
console.log(typeof 'Mario');      // "string"
console.log(typeof 42);           // "number"
console.log(typeof true);         // "boolean"
console.log(typeof undefined);    // "undefined"
console.log(typeof null);         // "object" (bug storico di JavaScript!)
console.log(typeof {});           // "object"
console.log(typeof []);           // "object"
console.log(typeof function(){}); // "function"

// Uso pratico
const valore = 42;
if (typeof valore === 'number') {
    console.log('È un numero!');
}</pre>
        </div>

        <h2>5. Naming Conventions</h2>
        
        <div class="codice">
<pre>// camelCase per variabili (standard JavaScript)
const nomeUtente = 'Mario';
const numeroDiTelefono = '1234567890';
const isAttivo = true;

// Nomi descrittivi
const btn = document.querySelector('button');  // OK (abbreviazione chiara)
const b = document.querySelector('button');    // MALE (troppo corto)

// Boolean: inizia con is, has, can
const isLoading = true;
const hasPermission = false;
const canEdit = true;

// Costanti globali: SCREAMING_SNAKE_CASE
const MAX_ATTEMPTS = 3;
const API_URL = 'https://api.example.com';

// Nomi plurali per array
const utenti = ['Mario', 'Luigi', 'Peach'];
const numeri = [1, 2, 3, 4, 5];</pre>
        </div>

        <h2>6. Block Scope</h2>
        
        <div class="teoria">
            <p><strong>Block scope</strong> significa che le variabili dichiarate con <code>let</code> e <code>const</code> sono accessibili solo nel blocco <code>{}</code> in cui sono dichiarate.</p>
        </div>
        
        <div class="codice">
<pre>// Variabile globale
const globale = 'Accessibile ovunque';

if (true) {
    // Variabile locale al blocco if
    const locale = 'Solo qui dentro';
    console.log(globale);  // Funziona
    console.log(locale);   // Funziona
}

// console.log(locale);  // ERRORE: locale is not defined

// Scope annidati
function esterna() {
    const varEsterna = 'Esterna';
    
    function interna() {
        const varInterna = 'Interna';
        console.log(varEsterna);  // Funziona (accede a scope esterno)
        console.log(varInterna);  // Funziona
    }
    
    interna();
    // console.log(varInterna);  // ERRORE: non accessibile qui
}

// Cicli for
for (let i = 0; i < 3; i++) {
    console.log(i);  // 0, 1, 2
}
// console.log(i);  // ERRORE: i non è definito fuori dal ciclo</pre>
        </div>

        <h2>7. Esempio Pratico Completo</h2>
        
        <div class="esempio">
            <p>Esempio interattivo con variabili e tipi di dato:</p>
            
            <div class="demo" style="border: 1px solid #ddd; padding: 20px; background: #f9f9f9;">
                <input type="text" id="input-nome" placeholder="Inserisci nome" style="padding: 8px; margin-bottom: 10px; width: 200px;">
                <input type="number" id="input-eta" placeholder="Inserisci età" style="padding: 8px; margin-bottom: 10px; width: 200px;">
                <button id="btn-mostra" style="padding: 10px 20px; background: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer; display: block; margin-top: 10px;">Mostra Informazioni</button>
                <div id="risultato" style="margin-top: 15px; padding: 15px; background: #e9ecef; border-radius: 4px; display: none;"></div>
            </div>
            
            <div class="codice">
<pre>&lt;input type="text" id="input-nome" placeholder="Inserisci nome"&gt;
&lt;input type="number" id="input-eta" placeholder="Inserisci età"&gt;
&lt;button id="btn-mostra"&gt;Mostra Informazioni&lt;/button&gt;
&lt;div id="risultato"&gt;&lt;/div&gt;

&lt;script&gt;
    const inputNome = document.getElementById('input-nome');
    const inputEta = document.getElementById('input-eta');
    const btnMostra = document.getElementById('btn-mostra');
    const risultato = document.getElementById('risultato');
    
    btnMostra.addEventListener('click', function() {
        // Leggi valori dagli input
        const nome = inputNome.value;
        const età = parseInt(inputEta.value);
        
        // Controlla se i dati sono validi
        if (!nome || isNaN(età)) {
            risultato.textContent = 'Inserisci nome ed età validi!';
            risultato.style.display = 'block';
            return;
        }
        
        // Determina se maggiorenne
        const isMaggiorenne = età >= 18;
        const statusEtà = isMaggiorenne ? 'maggiorenne' : 'minorenne';
        
        // Mostra risultato
        risultato.innerHTML = `
            &lt;strong&gt;Nome:&lt;/strong&gt; ${nome} (tipo: ${typeof nome})&lt;br&gt;
            &lt;strong&gt;Età:&lt;/strong&gt; ${età} (tipo: ${typeof età})&lt;br&gt;
            &lt;strong&gt;Status:&lt;/strong&gt; ${statusEtà} (tipo: ${typeof isMaggiorenne})
        `;
        risultato.style.display = 'block';
        
        console.log('Nome:', nome);
        console.log('Età:', età);
        console.log('Maggiorenne:', isMaggiorenne);
    });
&lt;/script&gt;</pre>
            </div>
            
            <script>
                const inputNome = document.getElementById('input-nome');
                const inputEta = document.getElementById('input-eta');
                const btnMostra = document.getElementById('btn-mostra');
                const risultato = document.getElementById('risultato');
                
                btnMostra.addEventListener('click', function() {
                    const nome = inputNome.value;
                    const età = parseInt(inputEta.value);
                    
                    if (!nome || isNaN(età)) {
                        risultato.textContent = 'Inserisci nome ed età validi!';
                        risultato.style.display = 'block';
                        return;
                    }
                    
                    const isMaggiorenne = età >= 18;
                    const statusEtà = isMaggiorenne ? 'maggiorenne' : 'minorenne';
                    
                    risultato.innerHTML = `
                        <strong>Nome:</strong> ${nome} (tipo: ${typeof nome})<br>
                        <strong>Età:</strong> ${età} (tipo: ${typeof età})<br>
                        <strong>Status:</strong> ${statusEtà} (tipo: ${typeof isMaggiorenne})
                    `;
                    risultato.style.display = 'block';
                    
                    console.log('Nome:', nome);
                    console.log('Età:', età);
                    console.log('Maggiorenne:', isMaggiorenne);
                });
            </script>
        </div>

        <h2>8. Note Importanti</h2>
        
        <div class="teoria">
            <ul>
                <li><strong>Usa sempre const:</strong> Come default, passa a let solo se necessario</li>
                <li><strong>Mai var:</strong> È sintassi obsoleta con problemi di scope</li>
                <li><strong>typeof null:</strong> Restituisce "object" per un bug storico di JavaScript</li>
                <li><strong>NaN è di tipo number:</strong> Anche se significa "Not a Number"</li>
                <li><strong>undefined vs null:</strong> undefined = non valorizzato, null = intenzionalmente vuoto</li>
                <li><strong>Block scope:</strong> Le variabili esistono solo nel loro blocco {}</li>
                <li><strong>Nomi descrittivi:</strong> Il codice si legge più di quanto si scrive</li>
            </ul>
        </div>

        <h2>9. Best Practices Moderne</h2>
        
        <div class="teoria">
            <p><strong>Perché const/let sono fondamentali nello sviluppo moderno:</strong></p>
            <ul>
                <li><strong>Immutabilità:</strong> const previene riassegnazioni accidentali</li>
                <li><strong>Chiarezza del codice:</strong> Indica chiaramente l'intento del programmatore</li>
                <li><strong>Block scope:</strong> let limita la visibilità delle variabili</li>
                <li><strong>Prevenzione errori:</strong> Il compilatore segnala tentativi di riassegnazione</li>
                <li><strong>Standard moderno:</strong> Usato in tutto il codice JavaScript ES6+</li>
            </ul>
            
            <p>Esempio di codice moderno:</p>
        </div>
        
        <div class="codice">
<pre>// Esempio JavaScript moderno
function saluta({ nome, età }) {
    const messaggio = `Ciao ${nome}, hai ${età} anni`;
    const isMaggiorenne = età >= 18;
    
    const elemento = document.createElement('div');
    elemento.innerHTML = `
        <p>${messaggio}</p>
        <p>${isMaggiorenne ? 'Maggiorenne' : 'Minorenne'}</p>
    `;
    
    return elemento;
};</pre>
        </div>

        <div class="navigazione">
            <a href="lezione-5-1.html" class="btn-nav">Lezione Precedente</a>
            <a href="index.html" class="btn-nav">Indice Lezione 5</a>
            <a href="lezione-5-3.html" class="btn-nav">Lezione Successiva</a>
        </div>
    </div>
</body>
</html>
