<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Progetto Finale - Todo App con TypeScript e React</title>
    <link rel="stylesheet" href="../style.css">
    <style>
        .project-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 40px;
            border-radius: 15px;
            color: white;
            text-align: center;
            margin-bottom: 40px;
        }
        
        .project-header h1 {
            color: white;
            margin-bottom: 15px;
        }
        
        .skills-checklist {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 10px;
            margin: 30px 0;
        }
        
        .skills-checklist ul {
            column-count: 2;
            column-gap: 30px;
        }
        
        @media (max-width: 768px) {
            .skills-checklist ul {
                column-count: 1;
            }
        }
        
        .code-block {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 20px 0;
        }
        
        .step-box {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            padding: 20px;
            border-radius: 10px;
            color: white;
            margin: 20px 0;
        }
        
        .step-box h3 {
            color: white;
            margin-bottom: 15px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="project-header">
            <h1>5.99 - Progetto Finale: Todo App</h1>
            <p>Costruisci una Todo List completa applicando JavaScript ES6+, TypeScript e React</p>
        </div>

        <div class="teoria">
            <h2>üìã Descrizione Progetto</h2>
            <p>Creeremo una Todo App con le seguenti funzionalit√†:</p>
            <ul>
                <li>Aggiungere nuovi todo</li>
                <li>Segnare todo come completati</li>
                <li>Eliminare todo</li>
                <li>Filtrare todo (Tutti, Attivi, Completati)</li>
                <li>Contatore todo rimanenti</li>
                <li>Persistenza in localStorage</li>
                <li>Type-safe con TypeScript</li>
            </ul>
        </div>

        <div class="skills-checklist">
            <h2>Competenze Applicate</h2>
            <h3>JavaScript ES6+</h3>
            <ul>
                <li>Arrow functions</li>
                <li>Destructuring</li>
                <li>Spread operator</li>
                <li>Template literals</li>
                <li>Array methods (map, filter)</li>
                <li>Optional chaining</li>
            </ul>
            
            <h3>TypeScript</h3>
            <ul>
                <li>Interfacce per tipizzazione</li>
                <li>Type aliases</li>
                <li>Union types</li>
                <li>Type guards</li>
                <li>Generics con useState</li>
            </ul>
            
            <h3>React</h3>
            <ul>
                <li>Componenti funzionali</li>
                <li>useState per state management</li>
                <li>useEffect per side effects</li>
                <li>Props tipizzate</li>
                <li>Event handling</li>
                <li>Rendering liste con key</li>
                <li>Rendering condizionale</li>
                <li>Composizione componenti</li>
            </ul>
        </div>

        <div class="teoria">
            <h2>Step 1: Setup Progetto</h2>
            <pre><code>// Crea progetto con Vite
npm create vite@latest todo-app -- --template react-ts
cd todo-app
npm install
npm run dev</code></pre>
        </div>

        <div class="teoria">
            <h2>Step 2: Definire Tipi TypeScript</h2>
            <p>Creare <code>src/types/Todo.ts</code></p>
            
            <div class="code-block">
<pre><code>// src/types/Todo.ts
export interface Todo {
    id: string;
    text: string;
    completed: boolean;
    createdAt: number;
}

export type FilterType = "all" | "active" | "completed";</code></pre>
            </div>
        </div>

        <div class="teoria">
            <h2>Step 3: Componente TodoItem</h2>
            <p>Creare <code>src/components/TodoItem.tsx</code></p>
            
            <div class="code-block">
<pre><code>// src/components/TodoItem.tsx
import { Todo } from '../types/Todo';

interface TodoItemProps {
    todo: Todo;
    onToggle: (id: string) => void;
    onDelete: (id: string) => void;
}

function TodoItem({ todo, onToggle, onDelete }: TodoItemProps) {
    return (
        &lt;div className={`todo-item ${todo.completed ? 'completed' : ''}`}&gt;
            &lt;input
                type="checkbox"
                checked={todo.completed}
                onChange={() => onToggle(todo.id)}
            /&gt;
            &lt;span className="todo-text"&gt;{todo.text}&lt;/span&gt;
            &lt;button 
                className="delete-btn"
                onClick={() => onDelete(todo.id)}
            &gt;
                üóëÔ∏è
            &lt;/button&gt;
        &lt;/div&gt;
    );
}

export default TodoItem;</code></pre>
            </div>
        </div>

        <div class="teoria">
            <h2>Step 4: Componente TodoForm</h2>
            <p>Creare <code>src/components/TodoForm.tsx</code></p>
            
            <div class="code-block">
<pre><code>// src/components/TodoForm.tsx
import { useState } from 'react';

interface TodoFormProps {
    onAdd: (text: string) => void;
}

function TodoForm({ onAdd }: TodoFormProps) {
    const [input, setInput] = useState("");
    
    const handleSubmit = (e: React.FormEvent) => {
        e.preventDefault();
        
        if (input.trim()) {
            onAdd(input.trim());
            setInput("");
        }
    };
    
    return (
        &lt;form className="todo-form" onSubmit={handleSubmit}&gt;
            &lt;input
                type="text"
                value={input}
                onChange={(e) => setInput(e.target.value)}
                placeholder="Cosa devi fare?"
                className="todo-input"
            /&gt;
            &lt;button type="submit" className="add-btn"&gt;
                Aggiungi
            &lt;/button&gt;
        &lt;/form&gt;
    );
}

export default TodoForm;</code></pre>
            </div>
        </div>

        <div class="teoria">
            <h2>Step 5: Componente TodoFilters</h2>
            <p>Creare <code>src/components/TodoFilters.tsx</code></p>
            
            <div class="code-block">
<pre><code>// src/components/TodoFilters.tsx
import { FilterType } from '../types/Todo';

interface TodoFiltersProps {
    currentFilter: FilterType;
    onFilterChange: (filter: FilterType) => void;
    activeCount: number;
}

function TodoFilters({ 
    currentFilter, 
    onFilterChange, 
    activeCount 
}: TodoFiltersProps) {
    const filters: FilterType[] = ["all", "active", "completed"];
    
    const filterLabels: Record&lt;FilterType, string&gt; = {
        all: "Tutti",
        active: "Attivi",
        completed: "Completati"
    };
    
    return (
        &lt;div className="todo-filters"&gt;
            &lt;span className="todo-count"&gt;
                {activeCount} {activeCount === 1 ? "task" : "tasks"} rimanenti
            &lt;/span&gt;
            
            &lt;div className="filter-buttons"&gt;
                {filters.map(filter => (
                    &lt;button
                        key={filter}
                        className={`filter-btn ${
                            currentFilter === filter ? 'active' : ''
                        }`}
                        onClick={() => onFilterChange(filter)}
                    &gt;
                        {filterLabels[filter]}
                    &lt;/button&gt;
                ))}
            &lt;/div&gt;
        &lt;/div&gt;
    );
}

export default TodoFilters;</code></pre>
            </div>
        </div>

        <div class="teoria">
            <h2>Step 6: Componente App Principale</h2>
            <p>Modificare <code>src/App.tsx</code></p>
            
            <div class="code-block">
<pre><code>// src/App.tsx
import { useState, useEffect } from 'react';
import TodoForm from './components/TodoForm';
import TodoItem from './components/TodoItem';
import TodoFilters from './components/TodoFilters';
import { Todo, FilterType } from './types/Todo';
import './App.css';

const LOCAL_STORAGE_KEY = 'todos';

function App() {
    const [todos, setTodos] = useState&lt;Todo[]&gt;([]);
    const [filter, setFilter] = useState&lt;FilterType&gt;("all");
    
    // Carica todos da localStorage al mount
    useEffect(() => {
        const savedTodos = localStorage.getItem(LOCAL_STORAGE_KEY);
        if (savedTodos) {
            try {
                setTodos(JSON.parse(savedTodos));
            } catch (error) {
                console.error("Errore nel caricamento todos:", error);
            }
        }
    }, []);
    
    // Salva todos in localStorage quando cambiano
    useEffect(() => {
        localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(todos));
    }, [todos]);
    
    // Aggiungere todo
    const addTodo = (text: string) => {
        const newTodo: Todo = {
            id: crypto.randomUUID(),
            text,
            completed: false,
            createdAt: Date.now()
        };
        
        setTodos([newTodo, ...todos]);
    };
    
    // Toggle completamento
    const toggleTodo = (id: string) => {
        setTodos(todos.map(todo =>
            todo.id === id 
                ? { ...todo, completed: !todo.completed }
                : todo
        ));
    };
    
    // Eliminare todo
    const deleteTodo = (id: string) => {
        setTodos(todos.filter(todo => todo.id !== id));
    };
    
    // Filtrare todos
    const filteredTodos = todos.filter(todo => {
        if (filter === "active") return !todo.completed;
        if (filter === "completed") return todo.completed;
        return true;
    });
    
    // Contare todos attivi
    const activeCount = todos.filter(todo => !todo.completed).length;
    
    return (
        &lt;div className="app"&gt;
            &lt;div className="todo-container"&gt;
                &lt;h1&gt;üìù Todo List&lt;/h1&gt;
                
                &lt;TodoForm onAdd={addTodo} /&gt;
                
                {todos.length === 0 ? (
                    &lt;p className="empty-message"&gt;
                        Nessun todo. Inizia ad aggiungerne uno! üöÄ
                    &lt;/p&gt;
                ) : (
                    &lt;&gt;
                        &lt;div className="todo-list"&gt;
                            {filteredTodos.length === 0 ? (
                                &lt;p className="empty-filter"&gt;
                                    Nessun todo in questa categoria
                                &lt;/p&gt;
                            ) : (
                                filteredTodos.map(todo => (
                                    &lt;TodoItem
                                        key={todo.id}
                                        todo={todo}
                                        onToggle={toggleTodo}
                                        onDelete={deleteTodo}
                                    /&gt;
                                ))
                            )}
                        &lt;/div&gt;
                        
                        &lt;TodoFilters
                            currentFilter={filter}
                            onFilterChange={setFilter}
                            activeCount={activeCount}
                        /&gt;
                    &lt;/&gt;
                )}
            &lt;/div&gt;
        &lt;/div&gt;
    );
}

export default App;</code></pre>
            </div>
        </div>

        <div class="teoria">
            <h2>Step 7: Styling</h2>
            <p>Modificare <code>src/App.css</code></p>
            
            <div class="code-block">
<pre><code>/* src/App.css */
.app {
    min-height: 100vh;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    padding: 40px 20px;
}

.todo-container {
    max-width: 600px;
    margin: 0 auto;
    background: white;
    border-radius: 15px;
    padding: 30px;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
}

h1 {
    text-align: center;
    color: #667eea;
    margin-bottom: 30px;
}

/* Form */
.todo-form {
    display: flex;
    gap: 10px;
    margin-bottom: 30px;
}

.todo-input {
    flex: 1;
    padding: 12px 16px;
    border: 2px solid #e0e0e0;
    border-radius: 8px;
    font-size: 16px;
    transition: border-color 0.3s;
}

.todo-input:focus {
    outline: none;
    border-color: #667eea;
}

.add-btn {
    padding: 12px 24px;
    background: #667eea;
    color: white;
    border: none;
    border-radius: 8px;
    font-weight: bold;
    cursor: pointer;
    transition: background 0.3s;
}

.add-btn:hover {
    background: #5568d3;
}

/* Todo Item */
.todo-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 16px;
    background: #f8f9fa;
    border-radius: 8px;
    margin-bottom: 10px;
    transition: background 0.3s;
}

.todo-item:hover {
    background: #e9ecef;
}

.todo-item.completed .todo-text {
    text-decoration: line-through;
    color: #999;
}

.todo-item input[type="checkbox"] {
    width: 20px;
    height: 20px;
    cursor: pointer;
}

.todo-text {
    flex: 1;
    font-size: 16px;
}

.delete-btn {
    background: none;
    border: none;
    font-size: 20px;
    cursor: pointer;
    opacity: 0.6;
    transition: opacity 0.3s, transform 0.3s;
}

.delete-btn:hover {
    opacity: 1;
    transform: scale(1.2);
}

/* Filters */
.todo-filters {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding-top: 20px;
    border-top: 2px solid #e0e0e0;
    margin-top: 20px;
}

.todo-count {
    color: #666;
    font-size: 14px;
}

.filter-buttons {
    display: flex;
    gap: 8px;
}

.filter-btn {
    padding: 6px 12px;
    background: transparent;
    border: 2px solid #e0e0e0;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.3s;
    font-size: 14px;
}

.filter-btn:hover {
    border-color: #667eea;
}

.filter-btn.active {
    background: #667eea;
    color: white;
    border-color: #667eea;
}

/* Empty states */
.empty-message, .empty-filter {
    text-align: center;
    color: #999;
    padding: 40px;
    font-size: 16px;
}

/* Responsive */
@media (max-width: 600px) {
    .todo-filters {
        flex-direction: column;
        gap: 15px;
        align-items: flex-start;
    }
}</code></pre>
            </div>
        </div>

        <div class="teoria">
            <h2>Congratulazioni!</h2>
            <p>Hai completato la lezione e costruito una Todo App completa!</p>
            
            <h3>Cosa Hai Imparato</h3>
            <ul>
                <li>JavaScript ES6+ moderno per sviluppo efficace</li>
                <li>TypeScript per code safety e migliore DX</li>
                <li>React per UI interattive e component-based</li>
                <li>State management con hooks</li>
                <li>Persistenza dati con localStorage</li>
                <li>Composizione di componenti riutilizzabili</li>
            </ul>
            
            <h3>Prossimi Passi</h3>
            <ul>
                <li>Aggiungi funzionalit√†: categorie, date scadenza, priorit√†</li>
                <li>Integra con backend API</li>
                <li>Deploy su Vercel/Netlify</li>
            </ul>
            
            <h3>Challenge Extra</h3>
            <p>Prova a implementare queste funzionalit√†:</p>
            <ul>
                <li>Modifica todo esistenti</li>
                <li>Drag & drop per riordinare</li>
                <li>Categorie/tag per i todo</li>
                <li>Date di scadenza con reminder</li>
                <li>Dark mode toggle</li>
                <li>Export/import todos (JSON)</li>
            </ul>
        </div>

        <div class="teoria">
            <h2>Navigazione</h2>
            <ul>
                <li><a href="lezione-5-3.html">‚Üê 5.3 - React Fondamentale</a></li>
                <li><a href="index.html">Torna all'Indice Lezione 5</a></li>
                <li><a href="../index.html">‚Üê Torna all'Indice Generale</a></li>
            </ul>
        </div>
    </div>
</body>
</html>